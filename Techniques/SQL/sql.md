# Using SQL based DBMS
_Login via cli_
```bash
mysql -u root -p # we are prompted to enter the password
mysql -u root -p<password> # password directly in the command
mysql -u root -h docker.host.eu -P 3306 -p # specify host and port
```
## Manage DBMS
_Database_
```sql
CREATE DATABASE <database name>; -- create a db
USE <database name>; -- use a specific db
SHOW DATABASES; -- prompt list of db
```

> [!NOTE] Case Insensitive, maybe not
> SQL statements aren't case sensitive, which means 'USE users;' and 'use users;' refer to the same command. However, the database name is case sensitive, so we cannot do 'USE USERS;' instead of 'USE users;'. So, it is a good practice to specify statements in uppercase to avoid confusion.

_Tables_
```sql
CREATE TABLE logins (
    id INT NOT NULL AUTO_INCREMENT, 
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(100) NOT NULL,
    date_of_joining DATETIME DEFAULT NOW(),
    PRIMARY KEY (id)
); -- create table login

SHOW TABLES; -- prompt list of tables for a specifc db
DESCRIBE logins; --used to list the table structure with its fields and data types
```
### SQL Statements
Here is a list of common operations and their precedence, as seen in the [MariaDB Documentation](https://mariadb.com/kb/en/operator-precedence/):
- Division (`/`), Multiplication (`*`), and Modulus (`%`)
- Addition (`+`) and subtraction (`-`)
- Comparison (`=`, `>`, `<`, `<=`, `>=`, `!=`, `LIKE`)
- NOT (`!`)
- AND (`&&`)
- OR (`||`)

_INSERT_
The [INSERT](https://dev.mysql.com/doc/refman/8.0/en/insert.html) statement is used to add new records to a given table.
```sql
INSERT INTO table_name VALUES (column1_value, column2_value, column3_value, ...); -- requires the user to fill in values for all the columns present in the table
INSERT INTO table_name(column2, column3, ...) VALUES (column2_value, column3_value, ...); -- specifying the column names to insert values into a table selectively
INSERT INTO table_name(column2, column3, ...) VALUES (column2_value, column3_value, ...), (column2_value, column3_value, ...); -- insert more then one tuple
```

_SELECT_
The [SELECT](https://dev.mysql.com/doc/refman/8.0/en/select.html) statement is used to obtain some data from a table in base specific query criteria.
```sql
SELECT * FROM table_name; -- obtain all from a table
SELECT column1, column2 FROM table_name; -- obtain specif data column
SELECT * FROM my_database.users; -- select from db my_database table users
```

_DROP_
The [DROP](https://dev.mysql.com/doc/refman/8.0/en/drop-table.html) is used to remove tables and databases from a server.
```sql
DROP TABLE <table name>; -- remove a specif table
```

_ALTER_
The [ALTER](https://dev.mysql.com/doc/refman/8.0/en/alter-table.html) statement in SQL is used to modify the structure of an existing database, such as adding, modifying or deleting columns, indexes or constraints.
```sql
ALTER TABLE logins ADD newColumn INT; -- add new column
ALTER TABLE logins RENAME COLUMN newColumn TO oldColumn; -- rename a column
ALTER TABLE logins MODIFY oldColumn DATE; -- change column datatype
ALTER TABLE logins DROP oldColumn; -- drop specif column
```

_UPDATE_
The [UPDATE](https://dev.mysql.com/doc/refman/8.0/en/update.html) statement in SQL is used to modify existing data in a database table by updating the values of specified columns based on certain selection criteria.
```sql
UPDATE table_name SET column1=newvalue1, column2=newvalue2, ... WHERE <condition>; -- generic syntax
```
### Query Results | Sorting
_ORDER BY_
We can sort the results of any query using [ORDER BY](https://dev.mysql.com/doc/refman/8.0/en/order-by-optimization.html) and specifying the column to sort by.
```sql
SELECT * FROM logins ORDER BY password; -- default is ascending (ASC)
SELECT * FROM logins ORDER BY password DESC; -- return value in descending 
SELECT * FROM logins ORDER BY password DESC, id ASC; -- sort by multiple columns, to have a secondary sort for duplicate values in one column
```

_LIMIT_
In case our query returns a large number of records, we can [LIMIT](https://dev.mysql.com/doc/refman/8.0/en/limit-optimization.html) the results to what we want only.
```sql
SELECT * FROM logins LIMIT 2; -- return two tuples
SELECT * FROM logins LIMIT 1, 2; -- limit results with an offset
```

_WHERE_
To filter or search for specific data, we can use conditions with the `SELECT` statement using the [WHERE](https://dev.mysql.com/doc/refman/8.0/en/where-optimization.html) clause, to fine-tune the results.
```sql
SELECT * FROM logins WHERE id > 1; -- filter data by id value
SELECT * FROM logins where username = 'admin'; -- filter data by a string
```

_LIKE_
The [LIKE](https://dev.mysql.com/doc/refman/8.0/en/pattern-matching.html), enabling selecting records by matching a certain pattern.
```sql
SELECT * FROM logins WHERE username LIKE 'admin%'; -- match all characters after admin
SELECT * FROM logins WHERE username like '___'; -- match exactly three characters
```

##### SQL Operators

`1` = _TRUE_
`0` = _FALSE_

_AND_
The `AND` operator takes in two conditions and returns `true` or `false` based on their evaluation.
```sql
condition1 AND condition2 -- if both condition evaluate to true
condition1 && condition2
```

_OR_
The `OR` operator takes in two expressions as well, and returns `true` when at least one of them evaluates to `true`.
```sql
condition1 OR condition2 -- false if at least one of theme evaluetes to true
condition1 || condition2
```

_NOT_
The `NOT` operator simply toggles a `boolean` value 'i.e. `true` is converted to `false` and vice versa'.
```sql
SELECT NOT 1 = 1; -- return false
SELECT NOT 1 = 2; -- return true
SELECT 1 != 2; -- return true
```

_COUNT_
The `COUNT` Operators return the number of rows that matches a specified criteria.
```sql
SELECT COUNT(column_name) FROM table_name; -- The COUNT(column_name) function returns the number of values (NULL values will not be counted) of the specified column
SELECT COUNT(*) FROM table_name; -- The COUNT(*) function returns the number of records in a table:
```

_UNION_
The UNION operator in SQL is used to combine the results of two or more SELECT queries into a single resulting table, removing duplicates automatically.
```sql
SELECT column1, column2 FROM table1 UNION SELECT column1, column2 FROM table2;
```


#KERBEROS
# Knowledge
_Kerberos_ in authentication protocol, standardized and open then permit interaction whit other system with the same standard.

It's a predefined protocol for account authentication in Windows AD since Windows 2000.
In active directory context Kerberos use 88 tcp and udp both.

_Kerberos Authentication Process_

1. The user logs on, and their password is converted to an _NTLM hash_, which is used to encrypt the _TGT ticket_. This decouples the user's credentials from requests to resources.
2. The _KDC service_ on the _DC_ checks the authentication service request (_AS-REQ_), verifies the user information, and creates a _Ticket Granting Ticket_ (_TGT_), which is delivered to the user. The _KDC_ serve the tickets if whether he is able to decryption the users request encrypted whit users password.
3. The user presents the TGT to the DC, requesting a Ticket Granting Service (TGS) ticket for a specific service. This is the TGS-REQ. If the TGT is successfully validated, its data is copied to create a TGS ticket.
4. The TGS is encrypted with the NTLM password hash of the service or computer account in whose context the service instance is running and is delivered to the user in the TGS_REP.
5. The user presents the TGS to the service, and if it is valid, the user is permitted to connect to the resource (AP_REQ).

![[Kerberos Process.png]]